<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
    <title>Jekyll & Grunt</title>
  
  <meta name="viewport" content="width=device-width initial-scale=1.0">
  <link href='http://fonts.googleapis.com/css?family=Merriweather:400,900,900italic,400italic' rel='stylesheet' type='text/css'>
  <link rel="alternate" type="application/rss+xml" title="feed two" href="/feed.xml"/>

  <link rel="stylesheet" type="text/css" href="/css/main.css">
  <script src="/js/main.js"></script>
</head>

<body>
  <header id="header">
    <div class="container">
      <h1 class="title"><a href="/">Gran Calavera</a></h1>
    </div>
  </header>

  








<section id="content">
  <div class="container">
    <div class="post">
      <article class="container">
        <h2><a href="/code/2014/01/19/jekyll-and-grunt-1-of-3/">Jekyll & Grunt</a></h2>
        <p class="date"><time datetime="2014-01-19">19 January 2014</time></p>
        <p>I have already tried to start a blog in the past. Do a quick search for <a href="http://web.archive.org/web/20040415000000*/http://grancalavera.com">grancalavera.com in the Wayback Machine</a> and you&#39;ll find scattered versions of lonely holding pages all the way back to 2004: anything from simple HTML pages, Blogger templates and even one broken Flex microsite.</p>

<p>One of the reasons why I have started over and over again so many times is that I&#39;ve never been able to choose a blogging platform. I&#39;ve always wanted to be able to do stuff without having to spend loads of time reading through pages and pages of documentation, obscure details on server configuration and folder structures.</p>

<h3>Jekyll</h3>

<p>Having played around with <a href="http://pages.github.com/">GitHub Pages</a> in the last couple of years, I decided to try <a href="http://jekyllrb.com/">Jekyll</a>, the blog-aware static site generator used by GitHub on their GitHub Pages. Jekyll has proved to be dead-simple to use: once you get it running you can get your head around it in 20 minutes.</p>

<figure id="project_structure">
<figcaption>project structure</figcaption>

<div class="highlight"><pre><code class="text">  grancalavera.com
* ├── .tmp/
* ├── bower_components/
* ├── gh-pages/
  ├── jekyll/
  │   ├── _drafts/
  │   ├── _includes/
  │   ├── _layouts/
  │   ├── _posts/
  │ * ├── css/
  │ * ├── js/
  │   ├── CNAME
  │   └── index.html
* ├── node_modules/
  ├── scripts/
  ├── styles/
  ├── .gitignore
  ├── _config-production.yml
  ├── _config.yml
  ├── bower.json
  ├── Gemfile
  ├── Gemfile.lock
  ├── grancalavera.com.sublime-project
  ├── Gruntfile.js
  ├── package.json
  └── README.md

* Ignored in .gitignore
</code></pre></div>
</figure>

<p>I&#39;m using the out of the box <code>config.yml</code> configuration file as the configuration base for my project. I didn&#39;t add any custom variables, just changed some of the default values, being the most important two <code>source</code> and <code>destination</code>.</p>

<p>All the blog files live inside the <code>jekyll</code> directory, instead of living directly under the root directory of the project. This allows me to keep all the content separate from the building process. Also, to make the use of GitHub Pages explicit, the site gets built into the <code>gh-pages</code> directory instead of the default <code>_site</code> directory.</p>

<p>There is a change I want to make: moving the configuration files from the root of the project to the <code>jekyll</code> directory. This change would allow me to separate the blog building process from the blog content files, keep them in separate git repos, and use the same building process with more than one Jekyll site.</p>

<figure>
<figcaption>_config.yml</figcaption>

<div class="highlight"><pre><code class="yaml"><span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Gran Calavera</span>
<span class="l-Scalar-Plain">markdown</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">redcarpet</span>
<span class="l-Scalar-Plain">pygments</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
<span class="l-Scalar-Plain">timezone</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Europe/London</span>
<span class="l-Scalar-Plain">destination</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">gh-pages</span>
<span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">jekyll</span>
<span class="l-Scalar-Plain">permalink</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">pretty</span>
<span class="l-Scalar-Plain">relative_permalinks</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
</code></pre></div>

</figure>

<p>The only difference between the base configuration file and the <code>_config-production.yml</code> configuration file is the <code>production</code> flag. I use this flath to toggle the livereload script <em>off</em> and the Google Analytics script <em>on</em> during production. I&#39;ll go into the details on how I use the livereload script on my next post.</p>

<figure>
<figcaption>_config-production.yml</figcaption>

<div class="highlight"><pre><code class="yaml"><span class="l-Scalar-Plain">production</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</code></pre></div>

</figure>

<p>Using this setup, I can build the Jekyll site and work on my posts locally with this command:</p>

<figure>
<figcaption>local build</figcaption>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>jekyll serve -w --drafts
</code></pre></div>

</figure>

<p>And build with this command when I&#39;m ready to push my changes to GitHub:</p>

<figure>
<figcaption>production build</figcaption>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>jekyll build --config _config.yml,_config-production.yml
</code></pre></div>

</figure>

<p>The last command will concatenate both of my configuration files, overriding any flags in <code>_config.yml</code> with flags from <code>_config-production.yml</code>. Currently no flags are overridden, just the one <code>production</code> flag gets appended to the final production configuration.</p>

<p><em class="epilogue">If you want to learn more about how to get started with Jekyll, head straight to the <a href="http://jekyllrb.com/docs/home/">Jekyll documentation</a>. I have been using <a href="http://gruntjs.com">Grunt</a> to build my GitHub Pages projects for a while now, and with a little tinkering it was very easy to put a build process together for Jekyll and Grunt. In my next post I&#39;ll be explaining such build process in detail, so please stay in tune!</em></p>

      </article>

      <footer class="container">
        
        <p class="previous">
          <a href="/stuff/2014/01/15/grancalavera/" title="grancalavera.com">
            <span class="icon"></span>
            <span class="label">grancalavera.com</span>
          </a>
        </p>
        

        
        <p class="next">
          <a href="/code/2014/02/02/jekyll-and-grunt-2-of-3/" title="Jekyll & Grunt, part 2">
            <span class="icon"></span>
            <span class="label">Jekyll & Grunt, part 2</span>
          </a>
        </p>
        
      </footer>
    </div>
  </div>
</section>


<section id="comments">
  <div id="disqus_thread" class="container"></div>
</section>
<script type="text/javascript">$(function () { Comments.show(); });</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




  <footer id="footer">
    <div class="container">
      <img class="gravatar" src="http://www.gravatar.com/avatar/4f4ed07345d3c3f9b871c1a21d892369?s=120">
      <p>I write computer programs that are either interpreted by other computer programs, or compiled to bytecode and then interpreted by other computer programs.</p>
      <p>My name is Le&oacute;n Coto, and I'm on
        <a target="_blank" href="https://github.com/grancalavera">Github</a>,
        <a target="_blank" href="https://twitter.com/wasabilion">Twitter</a> and
        <a target="_blank" href="http://www.linkedin.com/in/leoncoto">Linkedin</a>.</p>
    </div>
  </footer>

  <script>
  
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-32893184-1', 'grancalavera.com');
    ga('send', 'pageview');
  
  </script>

</body>
</html>
